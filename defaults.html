<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Defaults - The Swanling Book</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="HTTP Load testing framework. Inspired by Locust and Drill. Implemented with Rust.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="overview.html">Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Swanling</li><li class="chapter-item expanded "><a href="getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="simple-example.html"><strong aria-hidden="true">2.</strong> Simple Example</a></li><li class="chapter-item expanded "><a href="scheduling-swanling-task-sets.html"><strong aria-hidden="true">3.</strong> Scheduling Swanling Task Sets</a></li><li class="chapter-item expanded "><a href="defaults.html" class="active"><strong aria-hidden="true">4.</strong> Defaults</a></li><li class="chapter-item expanded "><a href="controlling-running-swanling-load-test.html"><strong aria-hidden="true">5.</strong> Controlling Running Swanling Load Test</a></li><li class="chapter-item expanded "><a href="throttling-requests.html"><strong aria-hidden="true">6.</strong> Throttling Requests</a></li><li class="chapter-item expanded "><a href="logging-load-test-errors.html"><strong aria-hidden="true">7.</strong> Logging Load Test Errors</a></li><li class="chapter-item expanded "><a href="logging-load-test-requests.html"><strong aria-hidden="true">8.</strong> Logging Load Test Requests</a></li><li class="chapter-item expanded "><a href="logging-load-test-tasks.html"><strong aria-hidden="true">9.</strong> Logging Load Test Tasks</a></li><li class="chapter-item expanded "><a href="load-test-debug-logging.html"><strong aria-hidden="true">10.</strong> Load Test Debug Logging</a></li><li class="chapter-item expanded "><a href="coordinated-omission-mitigation.html"><strong aria-hidden="true">11.</strong> Coordinated Omission Mitigation</a></li><li class="chapter-item expanded affix "><li class="part-title">Regatta</li><li class="chapter-item expanded "><a href="distributed-load-test.html"><strong aria-hidden="true">12.</strong> Distributed Load Test</a></li><li class="chapter-item expanded "><a href="rustls.html"><strong aria-hidden="true">13.</strong> RustLS</a></li><li class="chapter-item expanded affix "><li class="part-title">Developers</li><li class="chapter-item expanded "><a href="developers.html"><strong aria-hidden="true">14.</strong> Developers</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="contributors.html">Contributors</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">The Swanling Book</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="defaults"><a class="header" href="#defaults">Defaults</a></h1>
<p>All run-time options can be configured with custom defaults. For example, you may want to default to the the host name of your local development environment, only requiring that <code>--host</code> be set when running against a production environment. Assuming your local development environment is at &quot;http://local.dev/&quot; you can do this as follows:</p>
<pre><pre class="playground"><code class="language-rust edition2018">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    SwanlingAttack::initialize()?
        .register_taskset(taskset!(&quot;LoadtestTasks&quot;)
            .register_task(task!(loadtest_index))
        )
        .set_default(SwanlingDefault::Host, &quot;http://local.dev/&quot;)?
        .execute()?
        .print();

    Ok(())
<span class="boring">}
</span></code></pre></pre>
<p>The following defaults can be configured with a <code>&amp;str</code>:</p>
<ul>
<li>host: <code>SwanlingDefault::Host</code></li>
<li>log file name: <code>SwanlingDefault::LogFile</code></li>
<li>html-formatted report file name: <code>SwanlingDefault::ReportFile</code></li>
<li>requests log file name: <code>SwanlingDefault::RequestsFile</code></li>
<li>requests log file format: <code>SwanlingDefault::RequestsFormat</code></li>
<li>debug log file name: <code>SwanlingDefault::DebugFile</code></li>
<li>debug log file format: <code>SwanlingDefault::DebugFormat</code></li>
<li>host to bind telnet Controller to: <code>SwanlingDefault::TelnetHost</code></li>
<li>host to bind WebSocket Controller to: <code>SwanlingDefault::WebSocketHost</code></li>
<li>host to bind Manager to: <code>SwanlingDefault::ManagerBindHost</code></li>
<li>host for Worker to connect to: <code>SwanlingDefault::ManagerHost</code></li>
</ul>
<p>The following defaults can be configured with a <code>usize</code> integer:</p>
<ul>
<li>total users to start: <code>SwanlingDefault::Users</code></li>
<li>users to start per second: <code>SwanlingDefault::HatchRate</code></li>
<li>how often to print running metrics: <code>SwanlingDefault::RunningMetrics</code></li>
<li>number of seconds for test to run: <code>SwanlingDefault::RunTime</code></li>
<li>log level: <code>SwanlingDefault::LogLevel</code></li>
<li>verbosity: <code>SwanlingDefault::Verbose</code></li>
<li>maximum requests per second: <code>SwanlingDefault::ThrottleRequests</code></li>
<li>number of Workers to expect: <code>SwanlingDefault::ExpectWorkers</code></li>
<li>port to bind telnet Controller to: <code>SwanlingDefault::TelnetPort</code></li>
<li>port to bind WebSocket Controller to: <code>SwanlingDefault::WebSocketPort</code></li>
<li>port to bind Manager to: <code>SwanlingDefault::ManagerBindPort</code></li>
<li>port for Worker to connect to: <code>SwanlingDefault::ManagerPort</code></li>
</ul>
<p>The following defaults can be configured with a <code>bool</code>:</p>
<ul>
<li>do not reset metrics after all users start: <code>SwanlingDefault::NoResetMetrics</code></li>
<li>do not track metrics: <code>SwanlingDefault::NoMetrics</code></li>
<li>do not track task metrics: <code>SwanlingDefault::NoTaskMetrics</code></li>
<li>do not start telnet Controller thread: <code>SwanlingDefault::NoTelnet</code></li>
<li>do not start WebSocket Controller thread: <code>SwanlingDefault::NoWebSocket</code></li>
<li>do not autostart load test, wait instead for a Controller to start: <code>SwanlingDefault::NoAutoStart</code></li>
<li>track status codes: <code>SwanlingDefault::StatusCodes</code></li>
<li>follow redirect of base_url: <code>SwanlingDefault::StickyFollow</code></li>
<li>enable Manager mode: <code>SwanlingDefault::Manager</code></li>
<li>ignore load test checksum: <code>SwanlingDefault::NoHashCheck</code></li>
<li>enable Worker mode: <code>SwanlingDefault::Worker</code></li>
</ul>
<p>The following defaults can be configured with a <code>SwanlingCoordinatedOmissionMitigation</code>:</p>
<ul>
<li>default Coordinated Omission Mitigation strategy: <code>SwanlingDefault::CoordinatedOmissionMitigation</code></li>
</ul>
<p>For example, without any run-time options the following load test would automatically run against <code>local.dev</code>, logging metrics to <code>swanling-metrics.log</code> and debug to <code>swanling-debug.log</code>. It will automatically launch 20 users in 4 seconds, and run the load test for 15 minutes. Metrics will be displayed every minute during the test and will include additional status code metrics. The order the defaults are set is not important.</p>
<pre><pre class="playground"><code class="language-rust edition2018">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    SwanlingAttack::initialize()?
        .register_taskset(taskset!(&quot;LoadtestTasks&quot;)
            .register_task(task!(loadtest_index))
        )
        .set_default(SwanlingDefault::Host, &quot;local.dev&quot;)?
        .set_default(SwanlingDefault::RequestsFile, &quot;swanling-requests.log&quot;)?
        .set_default(SwanlingDefault::DebugFile, &quot;swanling-debug.log&quot;)?
        .set_default(SwanlingDefault::Users, 20)?
        .set_default(SwanlingDefault::HatchRate, 4)?
        .set_default(SwanlingDefault::RunTime, 900)?
        .set_default(SwanlingDefault::RunningMetrics, 60)?
        .set_default(SwanlingDefault::StatusCodes, true)?
        .execute()?
        .print();

    Ok(())
<span class="boring">}
</span></code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="scheduling-swanling-task-sets.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="controlling-running-swanling-load-test.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="scheduling-swanling-task-sets.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="controlling-running-swanling-load-test.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
